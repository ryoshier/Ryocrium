<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ryocrium Holdings</title>

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:#0b0f1a;
  color:#fff;
}
header{
  display:flex;
  justify-content:space-between;
  padding:15px 20px;
  border-bottom:1px solid rgba(255,255,255,0.1);
  font-weight:bold;
}
.container{
  display:flex;
  flex-wrap:wrap;
  gap:20px;
  padding:20px;
}
.card{
  background:#111827;
  padding:20px;
  border-radius:15px;
  flex:1;
  min-width:300px;
  box-shadow:0 0 20px rgba(0,0,0,0.3);
}
button{
  background:#d4af37;
  border:none;
  padding:8px 12px;
  border-radius:8px;
  font-weight:bold;
  cursor:pointer;
}
button:disabled{
  opacity:0.4;
  cursor:not-allowed;
}
.progress{
  height:8px;
  background:#222;
  border-radius:10px;
  margin:10px 0;
  overflow:hidden;
}
.progress-bar{
  height:100%;
  background:#d4af37;
  width:0%;
}
.next{
  margin-top:10px;
  padding:10px;
  background:rgba(255,255,255,0.05);
  border-radius:10px;
  font-size:13px;
}
.market{
  font-size:22px;
  margin-bottom:10px;
}
</style>
</head>
<body>

<header>
<div>RYOCRIUM HOLDINGS</div>
<div>
üí∞ $<span id="money">0</span> |
üè¢ Deƒüer: $<span id="value">0</span>
</div>
</header>

<div class="container">

<div id="factories"></div>

<div class="card">
<div class="market">Piyasa: $<span id="price">10</span></div>
<button onclick="sellAll()">T√ºm Stoƒüu Sat</button>
</div>

</div>

<script>
const SAVE_KEY="ryocrium_save";

let state={
  money:1000,
  price:10,
  lastUpdate:Date.now(),
  factories:[
    {name:"Kuru Fasulye", level:1, stock:0, baseProd:5, baseCap:100, baseCost:100, unlocked:true},
    {name:"Mƒ±sƒ±r", level:1, stock:0, baseProd:12, baseCap:200, baseCost:1000, unlocked:false},
    {name:"√áelik", level:1, stock:0, baseProd:30, baseCap:500, baseCost:10000, unlocked:false}
  ]
};

function save(){
  localStorage.setItem(SAVE_KEY, JSON.stringify(state));
}

function load(){
  let s=localStorage.getItem(SAVE_KEY);
  if(s){
    state=JSON.parse(s);
  }
}

function productionPerSec(f){
  return (f.baseProd*Math.pow(1.15,f.level-1))/60;
}
function capacity(f){
  return f.baseCap*Math.pow(1.10,f.level-1);
}
function upgradeCost(f){
  return f.baseCost*Math.pow(1.5,f.level-1);
}

function updateOffline(){
  let now=Date.now();
  let diff=(now-state.lastUpdate)/1000;
  state.factories.forEach(f=>{
    if(!f.unlocked) return;
    let gain=productionPerSec(f)*diff;
    f.stock=Math.min(f.stock+gain, capacity(f));
  });
  state.lastUpdate=now;
}

function render(){
  document.getElementById("money").textContent=Math.floor(state.money);
  document.getElementById("price").textContent=state.price.toFixed(2);

  let totalValue=state.money;
  state.factories.forEach(f=>{
    if(f.unlocked) totalValue+=f.stock*state.price;
  });
  document.getElementById("value").textContent=Math.floor(totalValue);

  let container=document.getElementById("factories");
  container.innerHTML="";

  state.factories.forEach((f,i)=>{
    if(!f.unlocked){
      if(state.money>=f.baseCost*2){
        f.unlocked=true;
      }else{
        return;
      }
    }

    let card=document.createElement("div");
    card.className="card";

    let prod=productionPerSec(f)*60;
    let cap=capacity(f);
    let cost=upgradeCost(f);

    card.innerHTML=`
      <h3>${f.name}</h3>
      Seviye: ${f.level}<br>
      √úretim: ${prod.toFixed(1)} / dk<br>
      Depo: ${Math.floor(f.stock)} / ${Math.floor(cap)}
      <div class="progress">
        <div class="progress-bar" style="width:${(f.stock/cap)*100}%"></div>
      </div>
      <button onclick="upgrade(${i})">Y√ºkselt ($${Math.floor(cost)})</button>
      <div class="next">
        Sonraki Seviye (${f.level+1})<br>
        √úretim Artƒ±≈üƒ±: +${(f.baseProd*Math.pow(1.15,f.level)-prod).toFixed(1)} / dk<br>
        Depo Artƒ±≈üƒ±: +${(f.baseCap*Math.pow(1.10,f.level)-cap).toFixed(0)}
      </div>
    `;
    container.appendChild(card);
  });
}

function upgrade(i){
  let f=state.factories[i];
  let cost=upgradeCost(f);
  if(state.money>=cost){
    state.money-=cost;
    f.level++;
    save();
    render();
  }
}

function sellAll(){
  state.factories.forEach(f=>{
    if(f.unlocked){
      state.money+=f.stock*state.price;
      f.stock=0;
    }
  });
  save();
  render();
}

function tick(){
  state.factories.forEach(f=>{
    if(!f.unlocked) return;
    f.stock=Math.min(f.stock+productionPerSec(f), capacity(f));
  });
  if(Math.random()<0.02){
    state.price=8+Math.random()*10;
  }
  render();
  save();
}

load();
updateOffline();
render();
setInterval(tick,1000);
</script>

</body>
</html>
